<%-include("../user/layout/header")%>
<!-- JavaScript Bundle with Popper -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<div style=" background-color: #e7e1e1;"  class=" container px-5 py-5 mt-5 ">
    <div class="row">
        <div   class="col-md-3 border-right">
          <h3 class="text-center">My Account</h3>
            <div class="d-flex flex-column align-items-center text-center rounded-circle p-3 py-5"><img class="rounded-circle mt-5" width="130px" src="https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg"><span class="font-weight-bold"><%=users.userName%></span><span class="text-black-50"><%=users.email%></span><span> </span></div>
            <div class="mt-3 text-center"><a href="/userprofile"><button class="btn btn-primary btn-block profile-button" type="button">Personal information</button></a></div>
            <div class="mt-3 text-center"><a href="/myorders"><button class="btn btn-primary btn-block profile-button" type="button">My orders</button></a></div>
            <div class="mt-3 text-center"> <button type="button"  class="btn btn-primary btn-block" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Add new address</button></div>
            <div class="mt-3 text-center"><a href="/addressBook"><button class="btn btn-primary btn-block profile-button" type="button">Address Book</button></a></div>
            
            <div class="mt-3 text-center"><a href="/myWallet"><button type="button" class="btn btn-primary btn-block" data-bs-toggle="modal" data-bs-target="#staticBackdrop">E shopper wallet</button></a></div>
          </div>




          



          <div  class="col-md-9 ">
            <div class="p-3 py-5">
<h3 class="text-center">Address Book</h3>
    <p class="text-center"><small> all your addresses for a faster checkout experience.</small></p>
                
    <div class="">
                <div class="row row-cols-1 row-cols-md-3 g-4 card-deck">
                    
                    <% for(var i=0; i<address1.length; i++) { %>
                        <div class="col">
                        <div class="card">
                        <div class="card-body">
                          <p class="card-title"> <%=address1[i].name%></p>
                          <p class="card-text"><small><%=address1[i].address%><%=address1[i].mobileNumber%><br><%=address1[i].locality%>,<%=address1[i].cityDistrictTown%><br><%=address1[i].landmark%>,<%=address1[i].state%>,<%=address1[i].country%><br><%=address1[i].pinCode%></small></p>
                          <div > 
                            <button type="button" class="btn btn-link" data-bs-toggle="modal" data-bs-target="#staticBackdrop<%=address1[i]._id%>">
                            Edit
                            </button>
                            <a href="/deleteaddress/<%=address1[i]._id%>"><button type="button" class="btn btn-link">delete</button></a> 
                          </div>
                          </div>
                          



                      <div class="modal fade" id="staticBackdrop<%=address1[i]._id%>" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="staticBackdropLabel">Edit address</h5>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                
                                    <div class="p-3 py-5">
                                        <div class="d-flex justify-content-between align-items-center mb-3">
                                            <h4 class="text-right">Profile Settings</h4>
                                        </div>
                                        <!-- <div class="row mt-2">
                                            <div class="col-md-6"><label class="labels">Name</label><input type="text" class="form-control" placeholder="first name" value=""></div>
                                            <div class="col-md-6"><label class="labels">Surname</label><input type="text" class="form-control" value="" placeholder="surname"></div>
                                        </div> -->
                                        <form action="/edit_address/<%=address1[i]._id%>" method="post">
                                        <div class="row mt-3">
                                            <div class="col-md-12"><label class="labels">Name</label><input name='name' type="text" class="form-control" placeholder="" value="<%=address1[i].name%>"></div>
                                            <div class="col-md-12"><label class="labels">Mobile number</label><input name="mobile" type="text" class="form-control" placeholder="" value="<%=address1[i].mobileNumber%>"></div>
                                            <div class="col-md-12"><label class="labels">Pincode</label><input name="pincode" type="text" class="form-control" placeholder="" value="<%=address1[i].pinCode%>"></div>
                                            <div class="col-md-12"><label class="labels">Locality</label><input name="locality" type="text" class="form-control" placeholder="" value="<%=address1[i].locality%>"></div>
                                            <div class="col-md-12"><label class="labels">Address</label><input name="address" type="text" class="form-control" placeholder="" value="<%=address1[i].address%>"></div>
                                            <div class="col-md-12"><label class="labels">City/District/Town</label><input name="city" type="text" class="form-control" placeholder="" value="<%=address1[i].cityDistrictTown%>"></div>
                                            
                                            <div class="col-md-12"><label class="labels">Landmark</label><input name="landmark" type="text" class="form-control" placeholder="Landmark" value="<%=address1[i].landmark%>"></div>
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-md-6"><label class="labels">State</label><input name="state" type="text" class="form-control" placeholder="" value="<%=address1[i].state%>"></div>
                                            <div class="col-md-6"><label class="labels">Country</label><input name="country" type="text" class="form-control" value="<%=address1[i].country%>" placeholder=""></div>
                                        </div>
                                        <div class="mt-5 text-center"><button data-bs-dismiss="modal"class="btn btn-primary profile-button" type="submit">Edit address</button></div>
                                        </form>
                                    </div>
                                
                            </div>
                            <div class="modal-footer">
                              
                            </div>
                          </div>
                        </div>
                      </div>
                      </div>
                    </div>
                      <%}%>
                      
                    </div>
                  </div>
    





            </div>
        </div>








    </div>
</div>


<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Add new address</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          
              <div class="p-3 py-5">
                  <div class="d-flex justify-content-between align-items-center mb-3">
                      <h4 class="text-right">Profile Settings</h4>
                  </div>
                  <!-- <div class="row mt-2">
                      <div class="col-md-6"><label class="labels">Name</label><input type="text" class="form-control" placeholder="first name" value=""></div>
                      <div class="col-md-6"><label class="labels">Surname</label><input type="text" class="form-control" value="" placeholder="surname"></div>
                  </div> -->
                  <form action="/add_address" method="post">
                  <div class="row mt-3">
                      <div class="col-md-12"><label class="labels">Name</label><input name='name' type="text" class="form-control" placeholder="enter Name" value=""></div>
                      <div class="col-md-12"><label class="labels">Mobile number</label><input name="mobile" type="text" class="form-control" placeholder="enter Your Mobile number" value=""></div>
                      <div class="col-md-12"><label class="labels">Pincode</label><input name="pincode" type="text" class="form-control" placeholder="enter Your Pincode" value=""></div>
                      <div class="col-md-12"><label class="labels">Locality</label><input name="locality" type="text" class="form-control" placeholder="enter Your Locality" value=""></div>
                      <div class="col-md-12"><label class="labels">Address</label><input name="address" type="text" class="form-control" placeholder="enter Your Address" value=""></div>
                      <div class="col-md-12"><label class="labels">City/District/Town</label><input name="city" type="text" class="form-control" placeholder="enter Your City/District/Town" value=""></div>
                      
                      <div class="col-md-12"><label class="labels">Landmark</label><input name="landmark" type="text" class="form-control" placeholder="Landmark" value=""></div>
                  </div>
                  <div class="row mt-3">
                      <div class="col-md-6"><label class="labels">State</label><input name="state" type="text" class="form-control" placeholder="State" value=""></div>
                      <div class="col-md-6"><label class="labels">Country</label><input name="country" type="text" class="form-control" value="" placeholder="Country"></div>
                  </div>
                  <div class="mt-5 text-center"><button data-bs-dismiss="modal"class="btn btn-primary profile-button" type="submit">Add new address</button></div>
                  </form>
              </div>
          
      </div>
      <div class="modal-footer">
        
      </div>
    </div>
  </div>
</div>